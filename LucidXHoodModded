--[[
██╗░░░░░██╗░░░██╗░█████╗░██╗██████╗░██╗░░██╗  ██╗░░██╗░█████╗░░█████╗░██████╗░
██║░░░░░██║░░░██║██╔══██╗██║██╔══██╗╚██╗██╔╝  ██║░░██║██╔══██╗██╔══██╗██╔══██╗
██║░░░░░██║░░░██║██║░░╚═╝██║██║░░██║░╚███╔╝░  ███████║██║░░██║██║░░██║██║░░██║
██║░░░░░██║░░░██║██║░░██╗██║██║░░██║░██╔██╗░  ██╔══██║██║░░██║██║░░██║██║░░██║
███████╗╚██████╔╝╚█████╔╝██║██████╔╝██╔╝╚██╗  ██║░░██║╚█████╔╝╚█████╔╝██████╔╝
╚══════╝░╚═════╝░░╚════╝░╚═╝╚═════╝░╚═╝░░╚═╝  ╚═╝░░╚═╝░╚════╝░░╚════╝░╚═════╝░

███╗░░░███╗░█████╗░██████╗░██████╗░███████╗██████╗░
████╗░████║██╔══██╗██╔══██╗██╔══██╗██╔════╝██╔══██╗
██╔████╔██║██║░░██║██║░░██║██║░░██║█████╗░░██║░░██║
██║╚██╔╝██║██║░░██║██║░░██║██║░░██║██╔══╝░░██║░░██║
██║░╚═╝░██║╚█████╔╝██████╔╝██████╔╝███████╗██████╔╝
╚═╝░░░░░╚═╝░╚════╝░╚═════╝░╚═════╝░╚══════╝╚═════╝░
]]
local GroupService = game:GetService("GroupService")
local GroupId = 6067019

function UpdateUsers(UserId, GroupId)
	local plrGroups = GroupService:GetGroupsAsync(UserId)
	for _, data in pairs(plrGroups) do
		if data.Id == GroupId then
			local Player = game.Players:GetPlayerByUserId(UserId)
			Player.Character.Humanoid.DisplayName = "[LX]"..Player.Name
		end
	end
end

if game.Players.LocalPlayer:IsInGroup(GroupId) then
	game.StarterGui:SetCore("SendNotification", {
		Title = "LucidX | Hood Modded";
		Text = "Welcome "..game.Players.LocalPlayer.Name,
		Icon = "rbxassetid://0";
		Duration = 5;
	})
else
	game.Players.LocalPlayer:Kick("Join "..GroupId.." in groups.")
end
--[[
░█████╗░░█████╗░███╗░░░███╗███╗░░░███╗░█████╗░███╗░░██╗██████╗░░██████╗██╗
██╔══██╗██╔══██╗████╗░████║████╗░████║██╔══██╗████╗░██║██╔══██╗██╔════╝╚═╝
██║░░╚═╝██║░░██║██╔████╔██║██╔████╔██║███████║██╔██╗██║██║░░██║╚█████╗░░░░
██║░░██╗██║░░██║██║╚██╔╝██║██║╚██╔╝██║██╔══██║██║╚████║██║░░██║░╚═══██╗░░░
╚█████╔╝╚█████╔╝██║░╚═╝░██║██║░╚═╝░██║██║░░██║██║░╚███║██████╔╝██████╔╝██╗
░╚════╝░░╚════╝░╚═╝░░░░░╚═╝╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═╝░░╚══╝╚═════╝░╚═════╝░╚═╝
]]
game.Players.LocalPlayer.Chatted:Connect(function(Message)
	local FOVSub = string.sub(Message,6)
	if Message == ".fov "..FOVSub then
		workspace.CurrentCamera.FieldOfView = FOVSub
		game.StarterGui:SetCore("SendNotification", {
			Title = "LucidX | Hood Modded";
			Text = "Changed FOV to "..FOVSub,
			Icon = "rbxassetid://0";
			Duration = 5;
		})
	end
end)

game.Players.LocalPlayer.Chatted:Connect(function(Message)
	local CircleFOVSub = string.sub(Message,7)
	if Message == ".cfov "..CircleFOVSub then
		_G.FOV = CircleFOVSub
		game.StarterGui:SetCore("SendNotification", {
			Title = "LucidX | Hood Modded";
			Text = "Changed Silent Aim FOV to "..CircleFOVSub,
			Icon = "rbxassetid://0";
			Duration = 5;
		})
	end
end)

game.Players.LocalPlayer.Chatted:Connect(function(Message)
	local PredictSub = string.sub(Message,7)
	if Message == ".pred "..PredictSub then
		_G.Prediction = PredictSub
		game.StarterGui:SetCore("SendNotification", {
			Title = "LucidX | Hood Modded";
			Text = "Changed Prediction to "..PredictSub,
			Icon = "rbxassetid://0";
			Duration = 5;
		})
	end
end)
--[[
░██████╗██╗██╗░░░░░███████╗███╗░░██╗████████╗
██╔════╝██║██║░░░░░██╔════╝████╗░██║╚══██╔══╝
╚█████╗░██║██║░░░░░█████╗░░██╔██╗██║░░░██║░░░
░╚═══██╗██║██║░░░░░██╔══╝░░██║╚████║░░░██║░░░
██████╔╝██║███████╗███████╗██║░╚███║░░░██║░░░
╚═════╝░╚═╝╚══════╝╚══════╝╚═╝░░╚══╝░░░╚═╝░░░

░█████╗░░█████╗░███╗░░░███╗███╗░░░███╗░█████╗░███╗░░██╗██████╗░░██████╗██╗
██╔══██╗██╔══██╗████╗░████║████╗░████║██╔══██╗████╗░██║██╔══██╗██╔════╝╚═╝
██║░░╚═╝██║░░██║██╔████╔██║██╔████╔██║███████║██╔██╗██║██║░░██║╚█████╗░░░░
██║░░██╗██║░░██║██║╚██╔╝██║██║╚██╔╝██║██╔══██║██║╚████║██║░░██║░╚═══██╗░░░
╚█████╔╝╚█████╔╝██║░╚═╝░██║██║░╚═╝░██║██║░░██║██║░╚███║██████╔╝██████╔╝██╗
░╚════╝░░╚════╝░╚═╝░░░░░╚═╝╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═╝░░╚══╝╚═════╝░╚═════╝░╚═╝
]]
game.Players.LocalPlayer.Chatted:Connect(function(Message)
	local FOVSub = string.sub(Message,9)
	if Message == "/e .fov "..FOVSub then
		workspace.CurrentCamera.FieldOfView = FOVSub
		game.StarterGui:SetCore("SendNotification", {
			Title = "LucidX | Hood Modded";
			Text = "Changed FOV to "..FOVSub,
			Icon = "rbxassetid://0";
			Duration = 5;
		})
	end
end)

game.Players.LocalPlayer.Chatted:Connect(function(Message)
	local CircleFOVSub = string.sub(Message,10)
	if Message == "/e .cfov "..CircleFOVSub then
		_G.FOV = CircleFOVSub
		game.StarterGui:SetCore("SendNotification", {
			Title = "LucidX | Hood Modded";
			Text = "Changed Silent Aim FOV to "..CircleFOVSub,
			Icon = "rbxassetid://0";
			Duration = 5;
		})
	end
end)

game.Players.LocalPlayer.Chatted:Connect(function(Message)
	local PredictSub = string.sub(Message,10)
	if Message == "/e .pred "..PredictSub then
		_G.Prediction = PredictSub
		game.StarterGui:SetCore("SendNotification", {
			Title = "LucidX | Hood Modded";
			Text = "Changed Prediction to "..PredictSub,
			Icon = "rbxassetid://0";
			Duration = 5;
		})
	end
end)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

local SilentAim = true
local LocalPlayer = game:GetService("Players").LocalPlayer
local Players = game:GetService("Players")
local Mouse = LocalPlayer:GetMouse()
local Camera = game:GetService("Workspace").CurrentCamera
hookmetamethod = hookmetamethod
Drawing = Drawing

local FOV_CIRCLE = Drawing.new("Circle")
FOV_CIRCLE.Visible = false
FOV_CIRCLE.Filled = false
FOV_CIRCLE.Thickness = 0
FOV_CIRCLE.Transparency = 1
FOV_CIRCLE.Color = Color3.new(0, 1, 0)
FOV_CIRCLE.Radius = _G.FOV
FOV_CIRCLE.Position = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)

Options = {
	Torso = "HumanoidRootPart";
	Head = "Head";
}

local function MoveFovCircle()
	pcall(function()
		local DoIt = true
		spawn(function()
			while DoIt do task.wait()
				FOV_CIRCLE.Position = Vector2.new(Mouse.X, (Mouse.Y + 36))
			end
		end)
	end)
end coroutine.wrap(MoveFovCircle)()

Mouse.KeyDown:Connect(function(KeyPressed)
	if KeyPressed == (_G.AimKey:lower()) then
		if SilentAim == false then
			game.StarterGui:SetCore("SendNotification", {
				Title = "LucidX | Hood Modded";
				Text = "Silent Aim Enabled",
				Icon = "rbxassetid://0";
				Duration = 2;
			})
			SilentAim = true
		elseif SilentAim == true then
			game.StarterGui:SetCore("SendNotification", {
				Title = "LucidX | Hood Modded";
				Text = "Silent Aim Disabled",
				Icon = "rbxassetid://0";
				Duration = 2;
			})
			SilentAim = false
		end
	end
end)

local oldIndex = nil 
oldIndex = hookmetamethod(game, "__index", function(self, Index)
	if self == Mouse and (Index == "Hit") then 
		local Distance = 9e9
		local Targete = nil
		if SilentAim then

			for _, v in pairs(Players:GetPlayers()) do 
				if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("HumanoidRootPart") and v.Character:FindFirstChild("Humanoid") and v.Character:FindFirstChild("Humanoid").Health > 0 then
					local Enemy = v.Character	
					local CastingFrom = CFrame.new(Camera.CFrame.Position, Enemy[Options.Torso].CFrame.Position) * CFrame.new(0, 0, -4)
					local RayCast = Ray.new(CastingFrom.Position, CastingFrom.LookVector * 9000)
					local World, ToSpace = workspace:FindPartOnRayWithIgnoreList(RayCast, {LocalPlayer.Character:FindFirstChild("Head")})
					local RootWorld = (Enemy[Options.Torso].CFrame.Position - ToSpace).magnitude
					if RootWorld < 4 then
						local RootPartPosition, Visible = Camera:WorldToScreenPoint(Enemy[Options.Torso].Position)
						if Visible then
							local Real_Magnitude = (Vector2.new(Mouse.X, Mouse.Y) - Vector2.new(RootPartPosition.X, RootPartPosition.Y)).Magnitude
							if Real_Magnitude < Distance and Real_Magnitude < FOV_CIRCLE.Radius then
								Distance = Real_Magnitude
								Targete = Enemy
							end
						end
					end
				end
			end
		end

		if Targete ~= nil and Targete[Options.Torso] and Targete:FindFirstChild("Humanoid").Health > 0 then
			if SilentAim then
				local ShootThis = Targete[Options.Torso] -- or Options.Head
				local Predicted_Position = ShootThis.CFrame + (ShootThis.Velocity * _G.Prediction + Vector3.new(0,-1,0)) --  (-1) = Less blatant
				return ((Index == "Hit" and Predicted_Position))
			end
		end

	end
	return oldIndex(self, Index)
end)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Troll
for i,v in pairs(game.Players:GetPlayers()) do
	v.Chatted:Connect(function(Message)
		if Message == ".kick "..game.Players.LocalPlayer.Name then
			if v.UserId == 721287280 then
				game.Players.LocalPlayer:Kick("User BANNED")
			end
		end
	end)
end
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
while wait(60) do
	if _G.DisableLX == false then
		for i,v in pairs(game.Players:GetPlayers()) do
			UpdateUsers(v.UserId, GroupId)
		end
	end
end
